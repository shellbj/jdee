<?xml version="1.0" encoding="UTF-8" ?>

<project name="jdee" default="compile">

  <property name="project.dir" location="."/>
  <property name="config.file" location="${project.dir}/config.properties"/>
  <property name="build.dir" location="${project.dir}/build"/>
  <property name="dist.dir" location="${project.dir}/dist"/>

  <target name="init">
    <tstamp/>
    <uptodate property="config.uptodate" srcfile="${config.file}"
	      targetfile="${config.file}"/>
  </target>

  <target name="init-compile" depends="init">
    <property file="${config.file}"/>
  </target>

  <target name="configure" depends="init" unless="config.uptodate">
    <property file="${user.home}/.jdee-build.properties"/>
    <property file="${project.dir}/config-default.properties"/>
    <propertyfile file="${config.file}" comment="user editable build configuration parameters">
      <entry key="config.time" type="date" value="now"/>
      <entry key="cedet.dir" value="${cedet.dir}"/>
      <entry key="elib.dir" value="${elib.dir}"/>
    </propertyfile>
  </target>

  <target name="compile" depends="init-compile">
  </target>

  <target name="clean" depends="init">
    <delete dir="${build.dir}"/>
    <delete dir="${dist.dir}"/>
    <delete file="${config.file}"/>
  </target>

  <target name="cleanall" depends="clean">
  </target>

</project>
